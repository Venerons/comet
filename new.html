<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Comet</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="icon" sizes="128x128" type="image/png" href="icons/favicon/icon128.png">
		<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Audiowide">
		<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Monoton">
		<link rel="stylesheet" type="text/css" href="css/comet-icons.css">
		<link rel="stylesheet" type="text/css" href="css/comet.min.css">
	</head>
	<body>
		<div id="splash-screen">
			<h1>COMET</h1>
		</div>

		<canvas id="surface" touch-action="none"></canvas>

		<div class="sidebar sidebar-right">
			<button id="button-info" data-module="info" style="background-image: url('icons/favicon/icon64.png'); background-position: center"></button>
			<button id="button-preset" data-module="preset">PRS</button>
			<button id="button-osc" data-module="osc">OSC</button>
			<button id="button-filter" data-module="filter">BQF</button>
			<button id="button-effect" data-module="effect">EFF</button>
			<button id="button-compressor" data-module="compressor">DCM</button>
			<button id="button-master" data-module="master">MST</button>
			<button id="button-animation" data-module="animation">ANI</button>
			<button id="button-midi" data-module="midi">MIDI</button>
		</div>

		<!-- INFO -->
		<div id="module-info" class="module">
			<h1 class="app-name">COMET</h1>
			<p class="app-subtitle">Coded with <i class="icon-heart" style="color: #d34d2e"></i> by <a href="https://venerons.github.io" target="_blank">Daniele Veneroni</a></p>
			<div class="app-version">1.2.0</div>
			<p>Comet is an awesome synth built on top of the finest web technologies.</p>
			<p>You can control the synth using:</p>
			<p><i class="icon-mouse" style="font-size: 3rem; vertical-align: middle"></i> Mouse</p>
			<p><i class="icon-touch" style="font-size: 3rem; vertical-align: middle"></i> Touch</p>
			<p><i class="icon-keyboard" style="font-size: 3rem; vertical-align: middle"></i> Keyboard</p>
			<p>MIDI devices</p>

			<p style="font-size: 0.5rem; font-style: italic">Icons made by <a href="http://www.flaticon.com/authors/mobiletuxedo" title="Mobiletuxedo">Mobiletuxedo</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0">CC BY 3.0</a></p>
		</div>

		<!-- PRESET -->
		<div id="module-preset" class="module" style="display: none">
			<h1>PRESET</h1>
			<select id="preset-id" title="Preset"></select>
			<button id="preset-save">Save</button>
			<!--<button id="preset-export">Export</button>-->
		</div>

		<!-- OSCILLATOR -->
		<div id="module-osc" class="module" style="display: none">
			<h1>OSCILLATOR 1</h1>
			<select id="osc1-type">
				<optgroup label="Fundamentals">
					<option value="sine">Sine</option>
					<option value="sawtooth">Sawtooth</option>
					<option value="square">Square</option>
					<option value="triangle">Triangle</option>
				</optgroup>
				<optgroup label="Periodic Waves">
					<option value="horn">Horn</option>
				</optgroup>
			</select>
			<div class="setting-set">
				<label for="osc1-detune">Detune</label>
				<input id="osc1-detune" type="range" min="-1200" max="1200" step="1">
			</div>
			<div class="setting-set">
				<label for="osc1-mix">Mix</label>
				<input id="osc1-mix" type="range" min="0" max="1" step="0.01">
			</div>

			<h1>OSCILLATOR 2</h1>
			<select id="osc2-type">
				<option value="none">none</option>
				<optgroup label="Fundamentals">
					<option value="sine">Sine</option>
					<option value="sawtooth">Sawtooth</option>
					<option value="square">Square</option>
					<option value="triangle">Triangle</option>
				</optgroup>
				<optgroup label="Periodic Waves">
					<option value="horn">Horn</option>
				</optgroup>
			</select>
			<div class="setting-set">
				<label for="osc2-detune">Detune</label>
				<input id="osc2-detune" type="range" min="-1200" max="1200" step="1">
			</div>
			<div class="setting-set">
				<label for="osc2-mix">Mix</label>
				<input id="osc2-mix" type="range" min="0" max="1" step="0.01">
			</div>
		</div>

		<!-- BIQUAD FILTER -->
		<div id="module-filter" class="module" style="display: none">
			<h1>BIQUAD FILTER</h1>
			<select id="filter-type" title="Filter Type">
				<option value="lowpass">Low Pass Filter</option>
				<option value="highpass">High Pass Filter</option>
				<option value="bandpass">Band Pass Filter</option>
				<option value="lowshelf">Low Shelf Filter</option>
				<option value="highshelf">High Shelf Filter</option>
				<option value="peaking">Peaking Filter</option>
				<option value="notch">Notch Filter</option>
				<option value="allpass">All Pass Filter</option>
			</select>
			<div class="setting-set">
				<label for="filter-quality">Quality</label>
				<input id="filter-quality" type="range" min="0" max="30" step="0.03">
				<!-- min: 0.0001 - max: 1000 - step: 0.0001 -->
			</div>
			<div class="setting-set">
				<label for="filter-detune">Detune</label>
				<input id="filter-detune" type="range" min="-1200" max="1200" step="1">
			</div>
			<div class="setting-set">
				<label for="filter-frequency">Frequency</label>
				<input id="filter-frequency" type="range" min="40" max="24000" step="1">
			</div>
			<div class="setting-set">
				<label for="filter-gain">Gain</label>
				<input id="filter-gain" type="range" min="-40" max="40" step="1">
			</div>
		</div>

		<!-- EFFECT -->
		<div id="module-effect" class="module" style="display: none">
			<h1>EFFECT</h1>
			<select id="effect-type" title="Effect Type">
				<option value="none">none</option>
				<optgroup label="Filters">
					<option value="filter-pinking">Pinking Filter</option>
					<option value="filter-moog">Moog Filter</option>
					<option value="filter-bitcrusher">BitCrusher</option>
					<option value="filter-whitenoiser">White Noiser</option>
					<option value="filter-pinknoiser">Pink Noiser</option>
					<option value="filter-brownnoiser">Brownian Noiser</option>
				</optgroup>
				<optgroup label="Delays">
					<option value="delay-feedback">Feedback Delay</option>
				</optgroup>
				<optgroup label="Waveshapers">
					<option value="waveshaper-distorsion">Distorsion</option>
				</optgroup>
				<optgroup label="Convolvers">
					<option value="convolver-noise" disabled>Noise Convolver</option>
					<option value="convolver-hall" disabled>Hall Reverb</option>
					<option value="convolver-telephone" disabled>Telephone</option>
					<option value="convolver-muffler" disabled>Muffler</option>
					<option value="convolver-spring_feedback" disabled>Spring Feedback</option>
					<option value="convolver-echo" disabled>Echo</option>
				</optgroup>
			</select>

			<!-- MOOG FILTER SETTINGS -->
			<div id="moogfilter-settings" class="effect-settings" style="display: none">
				<div class="setting-set">
					<label for="moogfilter-cutoff">Cutoff</label>
					<input id="moogfilter-cutoff" type="range" min="0" max="1" step="0.001" value="0.065">
				</div>
				<div class="setting-set">
					<label for="moogfilter-resonance">Resonance</label>
					<input id="moogfilter-resonance" type="range" min="0" max="4" step="0.01" value="3.99">
				</div>
			</div>

			<!-- BITCRUSHER SETTINGS -->
			<div id="bitcrusher-settings" class="effect-settings" style="display: none">
				<div class="setting-set">
					<label for="bitcrusher-bits">Bits</label>
					<input id="bitcrusher-bits" type="range" min="1" max="16" step="1" value="4">
				</div>
				<div class="setting-set">
					<label for="bitcrusher-normfreq">Normalize Frequency</label>
					<input id="bitcrusher-normfreq" type="range" min="0" max="1" step="0.1" value="0.1">
				</div>
			</div>

			<div class="setting-set">
				<label for="effect-buffer">Buffer Size</label>
				<select id="effect-buffer">
					<option value="256">256</option>
					<option value="512">512</option>
					<option value="1024">1024</option>
					<option value="2048">2048</option>
					<option value="4096">4096</option>
					<option value="8192">8192</option>
					<option value="16384">16384</option>
				</select>
			</div>
		</div>

		<!-- DYNAMICS COMPRESSOR -->
		<div id="module-compressor" class="module" style="display: none">
			<h1>DYNAMICS COMPRESSOR</h1>
			<div class="setting-set">
				<label for="compressor-threshold">Threshold</label>
				<input id="compressor-threshold" type="range" min="-100" max="0" step="0.1">
			</div>
			<div class="setting-set">
				<label for="compressor-knee">Knee</label>
				<input id="compressor-knee" type="range" min="0" max="40" step="0.1">
			</div>
			<div class="setting-set">
				<label for="compressor-ratio">Ratio</label>
				<input id="compressor-ratio" type="range" min="1" max="20" step="1">
			</div>
			<div class="setting-set">
				<label for="compressor-attack">Attack</label>
				<input id="compressor-attack" type="range" min="0" max="1" step="0.001">
			</div>
			<div class="setting-set">
				<label for="compressor-release">Release</label>
				<input id="compressor-release" type="range" min="0" max="1" step="0.001">
			</div>
		</div>

		<!-- MASTER -->
		<div id="module-master" class="module" style="display: none">
			<h1>MASTER</h1>
			<div class="setting-set">
				<label for="master-volume">Volume</label>
				<input id="master-volume" type="range" min="0" max="1" step="0.01">
			</div>
			<div class="setting-set">
				<label for="master-pan">Pan</label>
				<input id="master-pan" type="range" min="-1" max="1" step="0.01">
			</div>
		</div>

		<!-- ANIMATION -->
		<div id="module-animation" class="module" style="display: none">
			<h1>ANIMATION</h1>
			<select id="animation-type" title="Graphic Type">
				<option value="none">none</option>
				<optgroup label="Spectrum">
					<option value="spectrum-linear">Linear</option>
					<option value="spectrum-round">Round</option>
					<option value="spectrum-roundinset">Inset Round</option>
				</optgroup>
				<optgroup label="Oscilloscope">
					<option value="oscilloscope-stroked">Stroked</option>
					<option value="oscilloscope-filled">Filled</option>
				</optgroup>
				<optgroup label="Interactive">
					<option value="blackboard">Blackboard</option>
				</optgroup>
			</select>
			<div class="setting-set">
				<label for="animation-analyser-fft">FFT Size</label>
				<select id="animation-analyser-fft">
					<option value="32">32</option>
					<option value="64">64</option>
					<option value="128">128</option>
					<option value="256">256</option>
					<option value="512">512</option>
					<option value="1024">1024</option>
					<option value="2048">2048</option>
				</select>
			</div>
			<div class="setting-set">
				<label for="animation-analyser-smoothingTimeConstant">Smoothing Time Constant</label>
				<input id="animation-analyser-smoothingTimeConstant" type="range" min="0" max="1" step="0.1">
			</div>
			<div class="setting-set">
				<label for="animation-analyser-minDecibels">Min Decibels</label>
				<input id="animation-analyser-minDecibels" type="range" min="-100" max="-30" step="1">
			</div>
			<div class="setting-set">
				<label for="animation-analyser-maxDecibels">Max Decibels</label>
				<input id="animation-analyser-maxDecibels" type="range" min="-30" max="100" step="1">
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
		<script src="https://cdn.jsdelivr.net/gh/Venerons/palette.js@3/palette.min.js"></script>
		<script type="module" src="main.mjs"></script>
	</body>
</html>
